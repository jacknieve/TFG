<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Principal Mentor</title>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.1/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.1/angular-animate.js"></script>
	<!--<script type="text/javascript" th:src="@{/js/restconsumeruser.js}"></script>-->
	<!-- Bootstrap -->
	<!--<link th:href="@{/css/bootstrap-4.4.1.css}" rel="stylesheet">-->
	<!--<link th:href="@{/css/general.css}" rel="stylesheet">-->
	<link href="css/bootstrap-4.4.1.css" rel="stylesheet">
	<link href="css/general.css" rel="stylesheet">

</head>

<body ng-app="appConsumer">
	<div ng-controller="globalController" ng-class="{ 'seccionDesabilitada': popUpAbierto}">
		<nav class="navbar navbar-expand-lg navbar-light header">
			<a class="navbar-brand" href="#"><img id="borderIcono" src="images/icono_prueba.png" width="60"
					height="60" alt="" /></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<span class="linkNavRight d-block d-lg-none">
				<a th:href="@{/user/perfil}">
					<div class="buttonNav">Iniciar sesión</div>
				</a>
				<a th:href="@{/auth/logout}">
					<div class="buttonNav">Registrarse</div>
				</a>
			</span>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="headerLink nav-link" href="#">Participa</a>
					</li>
					<li class="nav-item">
						<a class="headerLink nav-link" href="#">Informe de estado</a>
					</li>
					<li class="nav-item">
						<a class="headerLink nav-link" href="#">Intituciones</a>
					</li>
					<li class="nav-item">
						<a class="headerLink nav-link" href="#">Acerca de nosotros</a>
					</li>
				</ul>
			</div>
			<span class="linkNavRight d-none d-lg-block">
				<a th:href="@{/user/perfil}">
					<div class="buttonNav">Iniciar sesión</div>
				</a>
				<a th:href="@{/auth/logout}">
					<div class="buttonNav">Registrarse</div>
				</a>
			</span>
		</nav>
		<div class="espacioEntreSecciones"></div>
		<section class="container cuerpoSeccion" ng-controller="userController" style="height: auto; overflow-y: auto;">
			<div class="row">
			<div class="col-lg-12 text-center" ng-show="cargando">Cargando...</div>
			</div>
			<div class="row">
			<div class="col-lg-10 offset-lg-1">
			<form name="form" class="container">
				<div class="row">
				<div class="col-md-6">
					Correo: <span th:text="${correo}" />
				</div>
				<div class="col-md-6" th:if="${fregistro}">
					Fecha de registro: <span th:text="${fregistro}" />
				</div>
				<div class="col-md-12" th:if="${error}">
					Se ha producido un error: <span th:text="${error}" />
				</div>
				<div class="col-md-12">
					<label>Nombre</label>
					<input ng-model="usuario.nombre" name="nombre" ng-pattern="/^[a-zA-ZÀ-ÿ\u00f1\u00d1]{1,255}$/"
						required />
					<span ng-show="form.nombre.$error.required">Es necesario introducir un nombre. </span>
					<span ng-show="form.nombre.$error.pattern"><br>No tiene el formato correcto </span>
				</div>
				<div class="col-md-6">
					<label>Primer apellido</label>
					<input ng-model="usuario.papellido" name="papellido"
						ng-pattern="/^[a-zA-ZÀ-ÿ\u00f1\u00d1]{0,255}$/" />
					<span ng-show="form.papellido.$error.pattern"><br>No tiene el formato correcto </span>
				</div>
				<div class="col-md-6">
					<label>Segundo apellido</label>
					<input ng-model="usuario.sapellido" name="sapellido"
						ng-pattern="/^[a-zA-ZÀ-ÿ\u00f1\u00d1]{0,255}$/" />
					<span ng-show="form.sapellido.$error.pattern"><br>No tiene el formato correcto </span>
				</div>
				<div class="col-md-6">
					<label>Telefono</label>
					<input type="tel" ng-model="usuario.telefono" name="telefono"
						ng-pattern="/^([+][0-9]{2})?[0-9]{9}$/" />
					<span ng-show="form.sapellido.$error.pattern"><br>No tiene el formato correcto </span>
				</div>
				<div class="col-md-6">
					<label>Nivel de estudios:</label>
					<select ng-model="usuario.nivelEstudiosNivelestudios">
						<div>
							<!--<option th:value="Otros" th:text="'--Escoge uno--'"></option>-->
							<option th:each="i : ${estudios}" th:value="${i.nivelestudios}"
								th:text="${i.nivelestudios}">
							</option>
						</div>
					</select>
				</div>
				<div class="col-md-10 offset-md-1">
					<label>Descripción:</label><br>
					<div style="text-align: center">
					<textarea ng-model="usuario.descripcion" maxlength="500" name="descripcion" style="width: 80%; height: 120px;"></textarea><br>
					</div>
					Caracteres restantes : {{500 - usuario.descripcion.length}}
				</div>
				<div class="col-md-12">
					<label>Tu linkedin</label>
					<input type="url" ng-model="usuario.linkedin" name="linkedin" />
					<span ng-hide="form.linkedin.$valid"><br>No tiene el formato correcto </span>
				</div>
				<div class="col-md-12" ng-show="usuario.mentor">
					<label>Horas por mes que desea mentorizar: </label>
					4<input type="range" min="4" max="80" step="1" value="4" ng-model="horasmes" />80 : {{horasmes}}
				</div>
				<div class="col-md-12">
					Fecha de nacimiento:
					<input type="date" ng-model="mydate" />
				</div>
				<div class="col-md-6">
					<label>Institución:</label>
					<select ng-model="usuario.institucionNombre">
						<option th:each="i : ${instituciones}" th:value="${i}" th:text="${i}">
						</option>
					</select>
				</div>
				<div class="col-md-6" ng-show="usuario.mentor">
					<label>Puesto</label>
					<select ng-model="usuario.puestoPuesto">
						<!--<option th:value="Otro" th:text="'--Escoge uno--'"></option>-->
						<option th:each="i : ${puestos}" th:value="${i.puesto}" th:text="${i.puesto}">
						</option>
					</select>
				</div>
				<div class="col-md-12">
					<label>¿Desea recibir notificaciones por correo cuando esta desconectado?</label>
					<input type="checkbox" ng-model="usuario.notificar_correo"/>
				</div>

				</div>
			</form>
			
			<h4>Areas de conocimiento:</h4>
			<div class="container">
			<div class="row">
				<div class="col-lg-6 areaConocimiento" ng-repeat="area in usuario.areas" style="min-height: 37px; vertical-align: middle;">{{area.area}} <button ng-click="borrarArea(area)"
						ng-disabled="cargando" class="float-right botonInterfaz" style="width: 100px;">Borrar</button>
				</div>
			<div class="col-md-12" ng-show="sinareas">No tienes ninguna área de conocimiento escogida</div>
			</div>
			
			<div class="row">
				<label class="col-md-3">Añadir nueva area: </label>
				<select class="col-md-4" ng-model="areaseleccioanda">
					<option th:value="'--Escoge una--'" th:text="'--Escoge una--'"></option>
					<option th:each="i : ${areas}" th:value="${i.area}" th:text="${i.area}">
					</option>
				</select>
				<div class="col-md-5">
				<button class="float-right botonInterfaz" ng-click="addArea(areaseleccioanda)" ng-disabled="cargando">Añadir</button>
				</div>
			</div>
			<div class="row">
			<div  class="col-md-12 text-center" ng-show="cargando">Cargando...</div>
			<div class="col-md-3"><button class="botonInterfaz" th:text="'Guardar cambios'" ng-click="setInfo(usuario)" ng-disabled="cargando">Guardar
					cambios</button>
				</div>
				<div class="col-md-9">
				<button class="botonInterfaz" th:text="Deshacer" ng-click="deshacer()" ng-disabled="cargando">Deshacer</button> (No se
				recuperaran las
				areas borradas)
				</div>
			</div>
			</div>
			</div>
			<!--<div ng-show="mentor.solicitud" class="popupFondo">
				<div class="popup" style="width: 400px;">Para borrar su cuenta, por favor, introduzca su contraseña.<br>
					<form action="#" th:action="@{/user/eliminar}" method="POST" enctype="utf8">
				<div>
					<input type="password" id="password" name="password" maxlength="255" required/>
				</div>
				</form>
					<button class="botonInterfaz" ng-click="confirmarBorrar = true"
									ng-disabled="cargando">Aceptar</button>
					<button class="botonInterfaz" ng-click="mostrarOcultarSolicitud(mentor)"
									ng-disabled="cargando">Cancelar</button>
				</div>
			</div>-->
				<!--<div ng-show="confirmarBorrar" class="popupFondo" style="z-index: 250;">
					<div class="popup" style="width: 400px;z-index: 300;">
							¿Seguro que desea realizar esta acción?<br>Esta acción no es reversible
							(de momento) y su cuenta de correo no podrá ser usada en otra cuenta.
							<button class="botonInterfaz" type="submit" th:text="Confirmar" ng-disabled="cargando">Confirmar</button>
							<button class="botonInterfaz" th:text="Cancelar" ng-click="confirmarBorrar = false">Cancelar</button>
					</div>
				</div>-->
			</div>
		</section>
		<hr>
		<footer class="container">
			<div class="row">
				<div class="text-center col-lg-12">
					<p>Copyright &copy; 2021 &middot; All Rights Reserved &middot; <a href="#">My Website</a></p>
				</div>
				<div class="text-center col-lg-3 offset-lg-2 col-md-5 offset-md-1">
					<h4>Normativa</h4>
					<p>Aqui puedes consultar las mormas de uso de la aplicación: <a href="#">ver normas de uso</a></p>
				</div>
				<div class="text-center col-lg-3 offset-lg-2 col-md-5 offset-md-2">
					<h4>Contacto</h4>
					<p>Para cualquier incidencia, contáctenos vía email a <a href="#">mentoring@gmail.com</a></p>
				</div>
			</div>
		</footer>
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		
		<!--<script type="text/javascript" th:src="@{/js/angular.min.js}"></script>-->
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<!--<script type="text/javascript" th:src="@{/js/jquery-3.4.1.min.js}"></script>
		<script type="text/javascript" th:src="@{/js/popper.min.js}"></script>
		<script type="text/javascript" th:src="@{/js/bootstrap-4.4.1.js}"></script>-->
		<script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
		<script type="text/javascript" src="js/popper.min.js"></script>
		<script type="text/javascript" src="js/bootstrap-4.4.1.js"></script>
	</div>
</body>

</html>